<div style="display: flex; height: 100%;width: 100%;">

    <app-sidebar></app-sidebar>



    <div class="column-container">
        <app-topbar></app-topbar>
        <p-breadcrumb class="max-w-full" [model]="items" [home]="home"></p-breadcrumb>
        <div class="circular-div">
            <h2 class="title">Informations générales</h2>

            <p-table styleClass="p-datatable-gridlines" [tableStyle]="{ 'min-width': '50rem' }">
                <ng-template pTemplate="header">
                    <tr>
                        <th style="width: 35%;">N° requête</th>
                        <td>{{ request?.numReq || "" }}</td>
                    </tr>
                    <tr>
                        <th>Date requête</th>
                        <td>{{request?.dtRequete | date: 'dd/MM/yyyy'}}</td>
                    </tr>
                    <tr>
                        <th>Etat Requête</th>
                        <td>{{ request?.etatReq }}</td>
                    </tr>
                    <tr>
                        <th>Objet</th>
                        <td>{{ request?.objet }}</td>
                    </tr>
                    <tr>
                        <th>Description</th>
                        <td [innerHTML]="request?.desc"></td>
                    </tr>
                    <tr>
                        <th>Service publique concerné</th>
                        <td>{{ request?.servicesText || '-' }}</td>
                    </tr>
                    <tr>
                        <th>Date d'apparition du problème</th>
                        <td>{{request?.datAppPb | date: 'dd/MM/yyyy'}}</td>
                    </tr>
                    <tr>
                        <th>Actions entreprises</th>
                        <td>{{ request?.actionsEnt || '-' }}</td>
                    </tr>
                </ng-template>
            </p-table>

        </div>


        <div class="circular-div">
            <h2 class="title">Informations Demandeur</h2>
            <p-table styleClass="p-datatable-gridlines" [tableStyle]="{ 'min-width': '50rem' }">
                <ng-template pTemplate="header">
                    <tr>
                        <th style="width: 35%;">NNI</th>
                        <td>{{ requerant?.cin }}</td>
                    </tr>
                    <tr>
                        <th>Personne</th>
                        <td>{{ requerant?.cinResp ? 'Morale' : 'Physique' }}</td>

                    </tr>
                    <tr>
                        <th>Demandeur</th>
                        <td>{{ requerant?.nom }} {{ requerant?.prenom }}</td>
                    </tr>



                    <tr *ngIf="requerant?.cinResp">
                        <th>NNI responsable </th>
                        <td>{{ requerant?.cinResp }}</td>
                    </tr>
                    <tr *ngIf="requerant?.rc">
                        <th>Registre de commerce</th>
                        <td>{{ requerant?.rc }}</td>
                    </tr>
                    <tr *ngIf="requerant?.nomResp">
                        <th>Nom et prénom du responsable</th>
                        <td>{{ requerant?.nomResp }} {{ requerant?.prenomResp }}</td>
                    </tr>
                    <tr *ngIf="requerant?.denomination">
                        <th>Dénomination</th>
                        <td>{{ requerant?.denomination }}</td>
                    </tr>





                    <tr>
                        <th>Adresse</th>
                        <td>{{ requerant?.adresse || '-' }}</td>
                    </tr>
                    <tr>
                        <th>Adresse de contact</th>
                        <td>{{ requerant?.adresseContact || '-' }}</td>
                    </tr>
                    <tr>
                        <th>N° téléphone</th>
                        <td>{{ requerant?.telContact || '-' }}</td>
                    </tr>
                    <tr>
                        <th>E-mail</th>
                        <td>{{ requerant?.emailContact || '-' }}</td>
                    </tr>
                </ng-template>
            </p-table>

        </div>

        <div class="circular-div">
            <h2 class="title">Documents</h2>
        </div>

        <div style="display: flex;justify-content: end; padding: 10px;">
            <button pButton pRipple icon="pi pi-arrow-left" label="Retour" class="p-button-danger"
               (click)="returnBackToPage()" ></button>
        </div>
        
    </div>



</div>